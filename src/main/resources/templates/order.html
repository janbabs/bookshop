<!DOCTYPE html>
<html lang="pl" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="Jan Babś">

    <!-- Bootstrap CSS -->
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet"/>
    <!--Custom CSS-->
    <link th:href="@{/css/body.css}" rel="stylesheet"/>
    <link th:href="@{/css/footer.css}" rel="stylesheet"/>
    <link th:href="@{/css/order.css}" rel="stylesheet"/>

    <title th:text="'Zamówienie nr: ' + ${order.id}"></title>
</head>
<body>
<div th:replace="template :: nav"></div>
<div class="container jumbotron">
    <h1 class="booktitle" th:utext="'Szczegóły zamówienia: '"></h1>

    <div class="row">
        <div class="col-sm-6">
            <div class="row">
                <div class="col-sm-6">
                    <h3 class="fieldName">Nr zamówienia:</h3>
                </div>
                <div class="col-sm-6">
                    <h4 class="fieldValue" th:text="${order.id}"></h4>
                </div>
            </div>
        </div>

        <div class="col-sm-6">
            <div class="row">
                <div class="col-sm-6">
                    <h3 class="fieldName">Status zamówienia:</h3>
                </div>
                <div class="col-sm-6">
                    <h4 class="fieldValue" th:text="${order.orderStatus}"></h4>
                </div>
            </div>
        </div>

        <div class="col-sm-6">
            <div class="row">
                <div class="col-sm-6">
                    <h3 class="fieldName">Imię:</h3>
                </div>
                <div class="col-sm-6">
                    <h4 class="fieldValue" th:text="${order.user.firstName}"></h4>
                </div>
            </div>
        </div>

        <div class="col-sm-6">
            <div class="row">
                <div class="col-sm-6">
                    <h3 class="fieldName">Nazwisko:</h3>
                </div>
                <div class="col-sm-6">
                    <h4 class="fieldValue" th:text="${order.user.lastName}"></h4>
                </div>
            </div>
        </div>

        <div class="col-sm-6">
            <div class="row">
                <div class="col-sm-6">
                    <h3 class="fieldName">Email:</h3>
                </div>
                <div class="col-sm-6">
                    <h4 class="fieldValue" th:text="${order.user.email}"></h4>
                </div>
            </div>
        </div>

        <div class="col-sm-6">
            <div class="row">
                <div class="col-sm-6">
                    <h3 class="fieldName">Nr telefonu:</h3>
                </div>
                <div class="col-sm-6">
                    <h4 class="fieldValue" th:text="${order.phonenumber}"></h4>
                </div>
            </div>
        </div>

        <div class="col-sm-6">
            <div class="row">
                <div class="col-sm-6">
                    <h3 class="fieldName">Ulica:</h3>
                </div>
                <div class="col-sm-6">
                    <h4 class="fieldValue" th:text="${order.address.street}"></h4>
                </div>
            </div>
        </div>

        <div class="col-sm-6">
            <div class="row">
                <div class="col-sm-6">
                    <h3 class="fieldName">Kod pocztowy:</h3>
                </div>
                <div class="col-sm-6">
                    <h4 class="fieldValue" th:text="${order.address.zipcode}"></h4>
                </div>
            </div>
        </div>

        <div class="col-sm-6">
            <div class="row">
                <div class="col-sm-6">
                    <h3 class="fieldName">Miasto:</h3>
                </div>
                <div class="col-sm-6">
                    <h4 class="fieldValue" th:text="${order.address.city}"></h4>
                </div>
            </div>
        </div>

        <div class="col-sm-6">
            <div class="row">
                <div class="col-sm-6">
                    <h3 class="fieldName">Data złożenia:</h3>
                </div>
                <div class="col-sm-6">
                    <h4 class="fieldValue" th:text="${#dates.format(order.orderDate, 'dd-MM-yyyy HH:mm')}"></h4>
                </div>
            </div>
        </div>

        <div class="container" style="padding-top: 30px">
            <table class="table table-hover">
                <thead>
                <tr>
                    <th>Książka</th>
                    <th></th>
                    <th>Cena</th>
                    <th>Ilość</th>
                    <th>Razem</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="orderItem :${order.orderItems}">
                    <td><img style="width: 105px; height: 135px" th:src="${orderItem.bookOrder.urlPhoto}"></td>
                    <td th:text="${orderItem.bookOrder.title}"></td>
                    <td th:text="${orderItem.bookOrder.price} + ' zł'"></td>
                    <td th:text="${orderItem.quantity}"></td>
                    <td th:text="${orderItem.quantity * orderItem.bookOrder.price} + ' zł'"></td>
                </tr>
                </tbody>
            </table>
            <div class="col-sm-6">
                <div class="row">
                    <div class="col-sm-6">
                        <h3 class="fieldName">Należność:</h3>
                    </div>
                    <div class="col-sm-6">
                        <h4 class="fieldValue" th:text="${order.totalPrice} + ' zł'"></h4>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>